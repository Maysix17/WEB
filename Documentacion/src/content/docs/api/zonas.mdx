---
title: Zonas
description: Endpoints para gestión de zonas de cultivo
---

# Zonas

## POST /zonas

Crea una nueva zona.

**Requiere autenticación**

**Ejemplo en Postman:**
- **Método:** POST
- **URL:** http://localhost:3000/zonas
- **Headers:**
  - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
  - Content-Type: application/json
- **Body:** (raw JSON)

**Cuerpo de la solicitud:**
```json
{
  "nombre": "Zona Norte",
  "descripcion": "Zona de cultivo en el norte de la finca",
  "ubicacion": "Coordenadas GPS",
  "area": 100.5
}
```

**Respuesta exitosa (201):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "nombre": "Zona Norte",
    "descripcion": "Zona de cultivo en el norte de la finca",
    "ubicacion": "Coordenadas GPS",
    "area": 100.5
  }
}
```

## GET /zonas

Lista todas las zonas. Opcionalmente filtra por nombre.

**Requiere autenticación**

**Ejemplo en Postman:**
- **Método:** GET
- **URL:** http://localhost:3000/zonas?nombre=Zona%20Norte
- **Headers:**
  - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c

**Parámetros de consulta:**
- `nombre`: Filtrar por nombre (opcional)

**Respuesta exitosa (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "nombre": "Zona Norte",
      "descripcion": "Zona de cultivo en el norte de la finca",
      "ubicacion": "Coordenadas GPS",
      "area": 100.5
    }
  ]
}
```

## GET /zonas/search/:query

Busca zonas por nombre.

**Requiere autenticación**

**Parámetros de ruta:**
- `query`: Término de búsqueda

**Ejemplo en Postman:**
- **Método:** GET
- **URL:** http://localhost:3000/zonas/search/norte?page=1&limit=10
- **Headers:**
  - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c

**Parámetros de consulta:**
- `page`: Página (por defecto: 1)
- `limit`: Límite por página (por defecto: 10)

**Respuesta exitosa (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "nombre": "Zona Norte",
      "descripcion": "Zona de cultivo en el norte de la finca",
      "ubicacion": "Coordenadas GPS",
      "area": 100.5
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 1
  }
}
```

## GET /zonas/:id

Obtiene una zona específica.

**Requiere autenticación**

**Parámetros de ruta:**
- `id`: ID de la zona

**Ejemplo en Postman:**
- **Método:** GET
- **URL:** http://localhost:3000/zonas/uuid-zona
- **Headers:**
  - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c

**Respuesta exitosa (200):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "nombre": "Zona Norte",
    "descripcion": "Zona de cultivo en el norte de la finca",
    "ubicacion": "Coordenadas GPS",
    "area": 100.5
  }
}
```

## GET /zonas/:id/cultivos-variedad-zona

Obtiene los cultivos, variedades y zonas relacionadas.

**Requiere autenticación**

**Parámetros de ruta:**
- `id`: ID de la zona

**Ejemplo en Postman:**
- **Método:** GET
- **URL:** http://localhost:3000/zonas/uuid-zona/cultivos-variedad-zona
- **Headers:**
  - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c

**Respuesta exitosa (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "cultivo": {
        "id": "uuid",
        "nombre": "Tomate"
      },
      "variedad": {
        "id": "uuid",
        "nombre": "Cherry"
      },
      "zona": {
        "id": "uuid",
        "nombre": "Zona Norte"
      }
    }
  ]
}
```

## PATCH /zonas/:id

Actualiza una zona específica.

**Requiere autenticación**

**Parámetros de ruta:**
- `id`: ID de la zona

**Ejemplo en Postman:**
- **Método:** PATCH
- **URL:** http://localhost:3000/zonas/uuid-zona
- **Headers:**
  - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
  - Content-Type: application/json
- **Body:** (raw JSON)

**Cuerpo de la solicitud:**
```json
{
  "nombre": "Zona Norte Actualizada",
  "area": 120.0
}
```

**Respuesta exitosa (200):**
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "nombre": "Zona Norte Actualizada",
    "descripcion": "Zona de cultivo en el norte de la finca",
    "ubicacion": "Coordenadas GPS",
    "area": 120.0
  }
}
```

## DELETE /zonas/:id

Elimina una zona específica.

**Requiere autenticación**

**Parámetros de ruta:**
- `id`: ID de la zona

**Ejemplo en Postman:**
- **Método:** DELETE
- **URL:** http://localhost:3000/zonas/uuid-zona
- **Headers:**
  - Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c

**Respuesta exitosa (200):**
```json
{
  "success": true,
  "message": "Zona eliminada exitosamente"
}
```